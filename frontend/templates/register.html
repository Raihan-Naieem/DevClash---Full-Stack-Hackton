<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login / Register</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons (optional) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light d-flex align-items-center justify-content-center vh-100">

  <div class="container d-flex justify-content-center align-items-center" style="max-width: 400px;">
    <div class="w-100 border rounded-pill p-4 bg-white shadow">
      <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="tab-login" data-bs-toggle="pill" href="#pills-login" role="tab"
            aria-controls="pills-login" aria-selected="true">Login</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="tab-register" data-bs-toggle="pill" href="#pills-register" role="tab"
            aria-controls="pills-register" aria-selected="false">Register</a>
        </li>
      </ul>

      <div class="tab-content">
        <!-- Login Tab -->
        <div class="tab-pane fade show active" id="pills-login" role="tabpanel" aria-labelledby="tab-login">
          <form method="POST" action="/login">
            <div class="mb-3">
              <label for="login-username" class="form-label">Username or Email</label>
              <input type="text" class="form-control" id="login-username" name="username" required>
            </div>

            <div class="mb-3">
              <label for="login-password" class="form-label">Password</label>
              <input type="password" class="form-control" id="login-password" name="password" required>
            </div>

            <button type="submit" class="btn btn-primary w-100">Sign In</button>
          </form>
        </div>

        <!-- Register Tab -->
        <div class="tab-pane fade" id="pills-register" role="tabpanel" aria-labelledby="tab-register">
          {% with messages = get_flashed_messages() %}
            {% if messages %}
              <div class="alert alert-warning text-center" role="alert">
                {{ messages[0] }}
              </div>
            {% endif %}
          {% endwith %}

          <form method="POST" action="/register">
            <div class="mb-3">
              <label for="register-username" class="form-label">Username</label>
              <input type="text" class="form-control" id="register-username" name="username" required>
            </div>

            <div class="mb-3">
              <label for="register-password" class="form-label">Password</label>
              <input type="password" class="form-control" id="register-password" name="password" required>
            </div>

            <div class="mb-3">
              <label for="register-confirm" class="form-label">Confirm Password</label>
              <input type="password" class="form-control" id="register-confirm" name="confirm" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Register As</label>
              <div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="role" id="student" value="student" required>
                  <label class="form-check-label" for="student">Student</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="role" id="vendor" value="vendor">
                  <label class="form-check-label" for="vendor">Vendor</label>
                </div>
              </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">Register</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
